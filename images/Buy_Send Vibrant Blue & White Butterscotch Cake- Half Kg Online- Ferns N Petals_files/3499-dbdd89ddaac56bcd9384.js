(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3499],{13499:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return V}});var a=n(809),o=n.n(a),c=n(28140),d=n(85893),i=n(92447),r=n(26265),s=n(32292),l=n(67294),p=n(14494),u=n(27361),m=n.n(u),_=n(17563),h=n(80366),y=n(73303),f=n.n(y),b=n(11163),x=n(63957),g=n(10064),I=n(41749),N=n(13258),v=n(17812),j=n(70379),C=n.n(j);function D(e){var t=e.isMobile,n=e.productName,a=e.price,o=e.imageUrl,c=e.productId,i=e.quantity,r=e.onSelect,s=e.onButtonClick,l=e.symbol,p=e.localCurrency,u=e.index,m=function(){r(c,i>0?-i:1)};return(0,d.jsxs)("li",{"data-addOn":"".concat(c,"~").concat(a,"~").concat(u+1,"~").concat(n,"~").concat(function(){var e=t?1:5,n=Math.ceil((u+1)/e),a=(u+1)%5||5;return"".concat(n,"x").concat(a)}(),"~"),className:"".concat(C()["add-on-item"]," ").concat(t?"":C()["layout-desktop"]," ").concat(i>0?C().selected:""),children:[(0,d.jsx)(I.Z,{onClick:m,onKeyDown:m,children:(0,d.jsx)("section",{className:"".concat(C()["add-on-figure"]),children:(0,d.jsxs)("figure",{children:[(0,d.jsx)("img",{src:o,alt:n}),(0,d.jsxs)("figcaption",{children:[(0,d.jsx)("p",{className:"".concat(C()["add-on-summary"]),children:n}),(0,d.jsxs)("p",{className:"".concat(C()["add-on-price"]),children:[(0,d.jsxs)("span",{className:"INR"!==p?C().internationalSymbol:"",children:[l,"\xa0"]}),a]})]})]})})}),(0,d.jsxs)("section",{className:"".concat(C()["add-on-check-counter"]),children:[(0,d.jsx)("span",{className:"".concat(C()["add-on-check"]),onClick:m,"aria-hidden":!0,children:(0,d.jsx)(N.Z,{className:"".concat(C()["add-on-item-checkbox"]," ").concat(t?C()["mobile-add-on-item-checkbox"]:""),disabled:!!t&&i<=0,checked:i>0,value:"selectedItem",disableRipple:!0})}),(0,d.jsxs)("span",{className:"".concat(C()["add-on-counter"]),children:[(0,d.jsx)(v.Z,{className:"".concat(C()["decrease-counter"]),disabled:i<=0,onClick:function(e){s(e,c,-1)},disableRipple:!0,children:(0,d.jsx)(g.Z,{})}),(0,d.jsx)("input",{type:"text",name:"addon-count",className:"".concat(C()["add-on-count-text"]),onClick:m,value:i,readOnly:!0}),(0,d.jsx)(v.Z,{className:"".concat(C()["increase-counter"]),disabled:9===i,onClick:function(e){s(e,c,1)},disableRipple:!0,children:(0,d.jsx)(x.Z,{})})]})]})]})}D.defaultProps={productName:"",price:0,imageUrl:"",productId:"",quantity:0,onSelect:function(){},onButtonClick:function(){},isMobile:!0,symbol:""};var k=D,O=n(282),S=(0,n(41120).Z)((function(e){return{searchButtonMobile:{position:"fixed",transform:"translateY(0)",textAlign:"center",background:e.color.orange,borderRadius:"0",bottom:"0",color:e.color.white,fontSize:"18px",height:"52px",fontWeight:"600",left:"0",boxShadow:"0 2px 4px rgba(0,0,0,0.2)","&:hover":{background:e.color.orange}},searchButton:{color:e.color.white,zIndex:99,position:"absolute",bottom:"10px",right:"25px",width:"270px",borderRadius:"4px",fontSize:"14px",background:e.color.orange,height:"40px","&:hover":{background:e.color.orange}}}}));function E(e){var t=e.isMobile,n=e.onClick,a=e.addonQuantity,o=S();return(0,d.jsx)(O.Z,{onClick:n,variant:"contained",disableElevation:!0,disableRipple:!0,fullWidth:!0,className:t?o.searchButtonMobile:o.searchButton,children:a>0?"CONTINUE WITH ".concat(a," ADD ONS"):"CONTINUE WITHOUT ADD ONS"})}E.defaultProps={isMobile:!0,onClick:function(){},addonQuantity:0};var P=E,R=n(18984),T=n.n(R);function w(e){var t=e.isMobile,n=e.baseItemQuantity,a=e.baseItemPrice,o=e.addonTotal,c=e.addonQuantity,i=e.shippingPrice,r=e.totalPrice;return(0,d.jsxs)("section",{className:"".concat(T()["add-on-price-panel"]," ").concat(t?"":T()["layout-desktop"]),children:[!t&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"".concat(T()["add-on-price-heading"]),children:"PRICE DETAILS"}),(0,d.jsxs)("div",{className:"".concat(T()["add-on-base-price-detail"]),children:[(0,d.jsxs)("p",{className:"".concat(T()["add-on-base-text"]),children:[n,"\xa0Base Item"]}),(0,d.jsxs)("p",{className:"".concat(T()["add-on-base-price"]),children:[(0,d.jsx)("span",{children:a.symbol}),a.price]})]}),(0,d.jsx)("span",{className:"".concat(T()["add-on-sign"]),children:"+"})]}),(0,d.jsxs)("div",{className:"".concat(T()["add-on-selected-price-detail"]),children:[(0,d.jsxs)("p",{className:"".concat(T()["add-on-selected-text"]),children:[c,"\xa0Add-ons"]}),(0,d.jsxs)("p",{className:"".concat(t?T()["mobile-add-on-selected-price"]:T()["add-on-selected-price"]),children:[(0,d.jsx)("span",{style:{color:"black",marginRight:5},children:o.symbol}),o.price]})]}),!t&&(0,d.jsx)("span",{className:"".concat(T()["add-on-sign"]),children:"+"}),(0,d.jsxs)("div",{className:"".concat(T()["add-on-cart-total"]),children:[(0,d.jsxs)("span",{className:"".concat(T()["add-on-shipping"]),children:[(0,d.jsx)("p",{className:"".concat(T()["add-on-label"]),children:"Shipping"}),(0,d.jsx)("p",{className:"".concat(T()["add-on-shipping-price"]),children:i.price>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"".concat(T()["rupee-symbol"]),children:i.symbol}),i.price]}):"Free"})]}),!t&&(0,d.jsx)("span",{className:"".concat(T()["add-on-sign"]),children:"="}),(0,d.jsxs)("span",{className:"".concat(T()["add-on-total"]),children:[(0,d.jsx)("p",{className:"".concat(T()["add-on-label"]),children:"TOTAL"}),(0,d.jsxs)("p",{className:"".concat(T()["add-on-total-price"]),children:[(0,d.jsxs)("span",{className:"".concat(T()["rupee-symbol"]),children:[r.symbol,"\xa0"]}),r.price]})]})]})]})}w.defaultProps={isMobile:!0,baseItemQuantity:0,baseItemPrice:{},addonTotal:{},addonQuantity:0,shippingPrice:{},totalPrice:{}};var A=w,U=n(37967),Z=n(65436),Q=n(37895),M=n.n(Q),q=n(75129),B=n(6748),H=n(82005),W=n(21848),F=n(42094),L=n(38115),Y=n(21459),z=n(23086);function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e){var t=e.addProductId,n=e.isBuyNow,a=e.pinCode,u=e.productId,y=e.productType,x=e.shippingMethod,g=e.timeSlotId,I=e.itemDesiredDeliveryDate,N=e.addonProductId,v=e.orderItemSeqId,j=e.prdShippingPrice,C=e.productPrice,D=e.showDisplayCartMessage,O=e.handleClose,S=e.hasData,E=e.from,R=e.isComingFromPdpPage,T=e.loggedIn,w=(0,p.v9)((function(e){return e.appConfigs})),Q=m()(w,"isMobile"),G=(0,b.useRouter)(),J=(0,p.v9)((function(e){return e.addOnDetails})),V=J.productList,X=J.showPDPAddOnPopup,$=(0,p.v9)((function(e){return e.cartDetails.cartSummary})),ee=$.items,te=(0,l.useState)(!1),ne=te[0],ae=te[1],oe=(0,l.useState)(!1),ce=oe[0],de=oe[1],ie=(0,l.useState)([]),re=ie[0],se=ie[1],le=(0,l.useState)({}),pe=le[0],ue=le[1],me=(0,l.useState)(!1),_e=me[0],he=me[1],ye=(0,l.useState)(f()(re,(function(e){return e.price*e.quantity}))),fe=ye[0],be=ye[1],xe=re.reduce((function(e,t){return e+t.quantity}),0),ge=ee&&ee.length||0,Ie=C&&Number(C)||0,Ne=j&&Number(j)||0,ve=Ie+Ne+fe,je=(0,p.v9)((function(e){var t;return(null===(t=e.currenciesList)||void 0===t?void 0:t.currencies)||[]})),Ce=(0,p.v9)((function(e){var t,n,a;return null===(t=e.appConfigs)||void 0===t||null===(n=t.configData)||void 0===n||null===(a=n.default)||void 0===a?void 0:a.currency})),De=(0,p.v9)((function(e){var t;return null===(t=e.appData)||void 0===t?void 0:t.selectedCurrency}))||(0,z.Z)(je)||Ce,ke=(0,p.I0)(),Oe=(0,q.sn)();function Se(e,t){de(!0),ue((function(n){var a;return K(K({},n),{},(0,r.Z)({},e,K(K({},n[e]),{},{itemQuantity:n[e]?(null===(a=n[e])||void 0===a?void 0:a.itemQuantity)+t:t})))}));var n=re.map((function(n){if(n.productId===e){var a=n.quantity+t;return K(K({},n),{},{quantity:a})}return n}));se(n)}function Ee(e,t,n){e.stopPropagation(),Se(t,n)}(0,l.useEffect)((function(){var e={};if("string"===typeof N){var t=N.split("_"),n=(0,s.Z)(t,3),a=n[0],o=n[1],c=n[2];e[a]={itemIndex:o,itemQuantity:Number(c)}}else N.forEach((function(t){var n=t.split("_"),a=(0,s.Z)(n,3),o=a[0],c=a[1],d=a[2];e[o]={itemIndex:c,itemQuantity:Number(d)}}));ue(e)}),[N]),(0,l.useEffect)((function(){(0,q.Dj)(q.kl.GIFT_FINDER)}),[]),(0,l.useEffect)((function(){if(!S){var e="addProductId=".concat(t,"&isbuynow=").concat(n,"&pinCode=").concat(a,"&productId=").concat(u,"&productType=").concat(y,"&shippingMethod=").concat(x,"&timeSlotId=").concat(g,"&orderItemSeqId=").concat(v,"&format=json");ke({type:U.Z.GET_ADD_ON_PRODUCTS_REQUEST,payload:e})}}),[ke,t,n,a,u,y,x,g,v,S]),(0,l.useEffect)((function(){se(V.map((function(e){return K(K({},e),{},{quantity:pe[e.productId]?parseInt(pe[e.productId].itemQuantity,10):0})})))}),[V,pe]),(0,l.useEffect)((function(){null!==re&&void 0!==re&&re.length&&!_e&&he(!0),be(f()(re,(function(e){return e.price*e.quantity})))}),[re,_e]),(0,l.useEffect)((function(){_e&&(0,H.B8)(E,u)}),[_e,E,u]);var Pe=function(){Object.keys(pe||{}).map((function(e){return isNaN(pe[e].itemQuantity)&&delete pe[e],""}));var e=Object.keys(pe||{}).map((function(e){return{proId:e,qty:pe[e].itemQuantity}}));return{from:E,proforid:u,addOnadd:e}};function Re(){return(Re=(0,i.Z)(o().mark((function e(){var d,i,r,s,l,p,u,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ae(!0),(0,H.gB)(Pe()),r={timeSlotId:g,pinCode:a,isBuyNow:n,orderItemSeqId:"ID".concat(v),countryGeoId:"",masterProductId:t,shippingMethodId:x,itemDesiredDeliveryDate:I,confirmUrl:"".concat(null===(d=window)||void 0===d||null===(i=d.location)||void 0===i?void 0:i.origin,"/cartpreview")},Q||(delete r.isBuyNow,delete r.confirmUrl),s=_.stringify(r),Object.keys(pe).forEach((function(e){var t=pe[e];t.itemIndex?s+="&addonProductId=".concat(e,"_").concat(t.itemQuantity,"_").concat(t.itemIndex):t.itemQuantity>0&&(s+="&addonProductId=".concat(e,"_").concat(t.itemQuantity))})),!ce){e.next=9;break}return e.next=9,(0,Z.c)(s);case 9:ae(!1),l=K(K({},$||{}),{},{items:[].concat((0,c.Z)(ee||[]),[{productId:t}])}),Q?R?(p=G.slug1,"N"===n?(u="".concat(window.location.pathname).concat(W.Qn.PRODUCT_PAGE),G.replace({pathname:"/mobile-pdp",query:{slug1:p},hash:"/product-page"},u,{shallow:!0}),ke({type:U.Z.SHOW_ADDON_REQUEST,payload:!1}),ke({type:U.Z.SHOW_PDP_ADDON_REQUEST,payload:!1}),ke({type:U.Z.GET_CART_SUMMARY_INFO_SUCCESS,payload:l})):"Y"===n&&(m="".concat(window.location.pathname,"?haveAddons=Y"),G.replace({pathname:"/mobile-pdp",query:{slug1:p,haveAddons:"Y"}},m,{shallow:!0}),T?window.location.href="/".concat(Y.CheckoutRoutes.CHECKOUT,"/").concat(Y.CheckoutRoutes.DELIVERY_ADDRESS):Oe?(0,L.Z)("/".concat(Y.CheckoutRoutes.CHECKOUT,"/").concat(Y.CheckoutRoutes.DELIVERY_ADDRESS)):window.location.href="/".concat(Y.CheckoutRoutes.CHECKOUT,"/").concat(Y.CheckoutRoutes.LOGIN)),O()):G.push("/cartpreview"):("Y"===n?window.location.href="/".concat(Y.CheckoutRoutes.CHECKOUT,"/").concat(T?Y.CheckoutRoutes.DELIVERY_ADDRESS:Y.CheckoutRoutes.LOGIN):(ke({type:U.Z.GET_CART_DETAILS_FIRST_TIME,payload:!1}),ke({type:U.Z.SHOW_BACKDROP_REQUEST,payload:!0}),(X||ce)&&(ke({type:U.Z.SHOW_LOADER}),ke({type:U.Z.SHOW_CART_AND_NOTIFICATION,payload:{getCart:!0}}))),O(),ke({type:U.Z.SHOW_ADDON_REQUEST,payload:!1}),ke({type:U.Z.SHOW_PDP_ADDON_REQUEST,payload:!1})),D();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Te=re.map((function(e,t){var n=(0,q.z7)(je,De,e.price);return(0,d.jsx)(k,{isMobile:Q,productName:e.productName,price:n.price,symbol:n.symbol,localCurrency:De,imageUrl:e.imageUrl,productId:e.productId,quantity:e.quantity,onSelect:Se,onButtonClick:Ee,index:t},e.productId)}));return(0,d.jsxs)("div",{children:[(0,d.jsx)(F.Z,{showLoading:ne}),(0,d.jsxs)("div",{className:"".concat(M()["add-on-page"]," ").concat(Q?M()["layout-mobile"]:M()["layout-desktop"]),children:[!Q&&(0,d.jsxs)("h1",{children:[B.q7,(0,d.jsx)(h.Z,{className:"".concat(M()["add-on-close"]),onClick:function(){O(),ke({type:U.Z.SHOW_ADDON_REQUEST,payload:!1}),ke({type:U.Z.SHOW_PDP_ADDON_REQUEST,payload:!1}),X&&ke({type:U.Z.SHOW_CART_AND_NOTIFICATION})}})]}),(0,d.jsxs)("div",{className:!Q&&M()["addon-list-container"],children:[(0,d.jsx)("ul",{className:"".concat(M()["add-on-list"]),children:Te}),(0,d.jsx)(A,{isMobile:Q,baseItemQuantity:ge,baseItemPrice:(0,q.z7)(je,De,Ie),addonTotal:(0,q.z7)(je,De,fe),addonQuantity:xe,shippingPrice:(0,q.z7)(je,De,Ne),totalPrice:(0,q.z7)(je,De,ve)}),(0,d.jsx)(P,{isMobile:Q,addonQuantity:xe,onClick:function(){return Re.apply(this,arguments)}})]})]})]})}J.defaultProps={addProductId:"",isBuyNow:"",pinCode:"",productId:"",productType:"",shippingMethod:"",timeSlotId:"",itemDesiredDeliveryDate:"",addonProductId:[],orderItemSeqId:"",prdShippingPrice:"",productPrice:"",showDisplayCartMessage:function(){},handleClose:function(){},hasData:!1,from:"Cart",isComingFromPdpPage:!1,loggedIn:!1};var V=J},70379:function(e){e.exports={"add-on-figure":"addon-item_add-on-figure__33zTW","add-on-item":"addon-item_add-on-item__2c12J",selected:"addon-item_selected__3QsCu","add-on-check-counter":"addon-item_add-on-check-counter__2Me7r","decrease-counter":"addon-item_decrease-counter__1isqo","layout-desktop":"addon-item_layout-desktop__2ioh2","add-on-summary":"addon-item_add-on-summary__Ankl8","add-on-count-text":"addon-item_add-on-count-text__38R_c","add-on-item-checkbox":"addon-item_add-on-item-checkbox__19Y-s","add-on-price":"addon-item_add-on-price__2IdbF",internationalSymbol:"addon-item_internationalSymbol__3UUAe","increase-counter":"addon-item_increase-counter__2xh1x","add-on-check":"addon-item_add-on-check__e4JJ_","mobile-add-on-item-checkbox":"addon-item_mobile-add-on-item-checkbox__fnAwr","add-on-counter":"addon-item_add-on-counter__3mQcD"}},37895:function(e){e.exports={"add-on-list":"addon_add-on-list__3llY-","add-on-page":"addon_add-on-page__3Ugba","layout-desktop":"addon_layout-desktop__2l_Be","add-on-close":"addon_add-on-close__2gQfU","addon-list-container":"addon_addon-list-container__23Vty","layout-mobile":"addon_layout-mobile__1NUEG","modal-backdrop":"addon_modal-backdrop__2uUP-"}},18984:function(e){e.exports={"add-on-price-panel":"price-details_add-on-price-panel__72cZ9","layout-desktop":"price-details_layout-desktop__152d-","add-on-selected-price-detail":"price-details_add-on-selected-price-detail__3yd9E","add-on-base-price-detail":"price-details_add-on-base-price-detail__10fnU","add-on-shipping":"price-details_add-on-shipping__1aMAP","add-on-total":"price-details_add-on-total__IJcJL","add-on-cart-total":"price-details_add-on-cart-total__23vey","add-on-base-price":"price-details_add-on-base-price__9YILC","add-on-shipping-price":"price-details_add-on-shipping-price__2KF5p","add-on-base-text":"price-details_add-on-base-text__k4or_","add-on-selected-text":"price-details_add-on-selected-text__2YPFI","add-on-label":"price-details_add-on-label__1Hi7D","rupee-symbol":"price-details_rupee-symbol__wyb-8","add-on-total-price":"price-details_add-on-total-price__3lNoE","add-on-selected-price":"price-details_add-on-selected-price__erI8C","add-on-price-heading":"price-details_add-on-price-heading__VNIrA","add-on-sign":"price-details_add-on-sign__2B33y","mobile-add-on-selected-price":"price-details_mobile-add-on-selected-price__3k9J9"}}}]);